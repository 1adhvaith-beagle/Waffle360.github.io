"use strict";class Wafer{constructor(){this.encoder=new TextEncoder,this.decoder=new TextDecoder}async serialconnect(){if("serial"in navigator)try{const e=await navigator.serial.requestPort();await e.open({baudRate:9600}),this.reader=e.readable.getReader(),this.writer=e.writable.getWriter();let r=await e.getSignals();console.log(r)}catch(e){console.error("There was an error opening the serial port:",e)}else console.error("Web serial doesn't seem to be enabled in your browser. Try enabling it by visiting:"),console.error("chrome://flags/#enable-experimental-web-platform-features"),console.error("opera://flags/#enable-experimental-web-platform-features"),console.error("edge://flags/#enable-experimental-web-platform-features")}async write(e){const r=this.encoder.encode(e);return await this.writer.write(r)}async read(){try{const e=await this.reader.read();return this.decoder.decode(e.value)}catch(e){const r=`error reading data: ${e}`;return console.error(r),r}}}const donut=new Wafer;function wafer_connect(){donut.serialconnect()}function on2(){donut.write("1"),console.log("Pin 2 is on ")}function off2(){donut.write("0"),console.log("Pin 2 is off")}
